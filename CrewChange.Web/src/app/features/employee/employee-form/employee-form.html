<div class="employee-form-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{isEditMode ? 'Edit' : 'Create'}} Employee</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
        <div class="form-row">
          <mat-form-field>
            <mat-label>Employee Number</mat-label>
            <input matInput formControlName="employeeNumber" required>
            <mat-error *ngIf="employeeForm.get('employeeNumber')?.hasError('required')">
              Employee Number is required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>SSN</mat-label>
            <input matInput formControlName="ssn" placeholder="123-45-6789" required>
            <mat-error *ngIf="employeeForm.get('ssn')?.hasError('required')">
              SSN is required
            </mat-error>
            <mat-error *ngIf="employeeForm.get('ssn')?.hasError('pattern')">
              Invalid SSN format (123-45-6789)
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field>
            <mat-label>First Name</mat-label>
            <input matInput formControlName="firstName" required>
            <mat-error *ngIf="employeeForm.get('firstName')?.hasError('required')">
              First Name is required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Middle Name</mat-label>
            <input matInput formControlName="middleName">
          </mat-form-field>

          <mat-form-field>
            <mat-label>Last Name</mat-label>
            <input matInput formControlName="lastName" required>
            <mat-error *ngIf="employeeForm.get('lastName')?.hasError('required')">
              Last Name is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field>
            <mat-label>Birth Date</mat-label>
            <input matInput [matDatepicker]="birthDatePicker" formControlName="birthDate" required>
            <mat-datepicker-toggle matIconSuffix [for]="birthDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #birthDatePicker></mat-datepicker>
            <mat-error *ngIf="employeeForm.get('birthDate')?.hasError('required')">
              Birth Date is required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Hire Date</mat-label>
            <input matInput [matDatepicker]="hireDatePicker" formControlName="hireDate" required>
            <mat-datepicker-toggle matIconSuffix [for]="hireDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #hireDatePicker></mat-datepicker>
            <mat-error *ngIf="employeeForm.get('hireDate')?.hasError('required')">
              Hire Date is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field>
            <mat-label>Phone Number</mat-label>
            <input matInput formControlName="phoneNumber" placeholder="555-555-5555" required>
            <mat-error *ngIf="employeeForm.get('phoneNumber')?.hasError('required')">
              Phone Number is required
            </mat-error>
            <mat-error *ngIf="employeeForm.get('phoneNumber')?.hasError('pattern')">
              Invalid phone format (555-555-5555)
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" required>
            <mat-error *ngIf="employeeForm.get('email')?.hasError('required')">
              Email is required
            </mat-error>
            <mat-error *ngIf="employeeForm.get('email')?.hasError('email')">
              Invalid email format
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field>
            <mat-label>Address Line 1</mat-label>
            <input matInput formControlName="addressLine1" required>
            <mat-error *ngIf="employeeForm.get('addressLine1')?.hasError('required')">
              Address Line 1 is required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Address Line 2</mat-label>
            <input matInput formControlName="addressLine2">
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field>
            <mat-label>City</mat-label>
            <input matInput formControlName="city" required>
            <mat-error *ngIf="employeeForm.get('city')?.hasError('required')">
              City is required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>State</mat-label>
            <mat-select formControlName="stateId" required>
              <mat-option *ngFor="let state of states" [value]="state.id">
                {{state.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="employeeForm.get('stateId')?.hasError('required')">
              State is required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>ZIP Code</mat-label>
            <input matInput formControlName="zipCode" required>
            <mat-error *ngIf="employeeForm.get('zipCode')?.hasError('required')">
              ZIP Code is required
            </mat-error>
            <mat-error *ngIf="employeeForm.get('zipCode')?.hasError('pattern')">
              Invalid ZIP Code format (12345 or 12345-6789)
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field>
            <mat-label>Department</mat-label>
            <mat-select formControlName="departmentId" required>
              <mat-option *ngFor="let dept of departments" [value]="dept.id">
                {{dept.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="employeeForm.get('departmentId')?.hasError('required')">
              Department is required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Position</mat-label>
            <mat-select formControlName="positionId" required>
              <mat-option *ngFor="let position of positions" [value]="position.id">
                {{position.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="employeeForm.get('positionId')?.hasError('required')">
              Position is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field>
            <mat-label>Employment Status</mat-label>
            <mat-select formControlName="employmentStatusId" required>
              <mat-option *ngFor="let status of employmentStatuses" [value]="status.id">
                {{status.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="employeeForm.get('employmentStatusId')?.hasError('required')">
              Employment Status is required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Marital Status</mat-label>
            <mat-select formControlName="maritalStatusId" required>
              <mat-option *ngFor="let status of maritalStatuses" [value]="status.id">
                {{status.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="employeeForm.get('maritalStatusId')?.hasError('required')">
              Marital Status is required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Gender</mat-label>
            <mat-select formControlName="genderId" required>
              <mat-option *ngFor="let gender of genders" [value]="gender.id">
                {{gender.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="employeeForm.get('genderId')?.hasError('required')">
              Gender is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-actions">
          <button mat-button type="button" (click)="onCancel()">Cancel</button>
          <button mat-raised-button color="primary" type="submit" [disabled]="employeeForm.invalid">
            {{isEditMode ? 'Update' : 'Create'}}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
